<h3>Registration</h3>
<form [formGroup]="userform" (ngSubmit)="onSubmit(userform.value)">

    <div class="ui-g ui-fluid">
        <div class="ui-g-12">
            <div class="ui-inputgroup">
                <span class="ui-md-4">Username</span>
                <span class="ui-inputgroup-addon">
                    <i class="fa fa-user"></i>
                </span>
                <input type="text" pInputText formControlName='name' placeholder=" Username">
            </div>
            <div class="ui-grid-col-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['name'].valid&&userform.controls['name'].dirty">
                    Username is required
                </div>
            </div>

        </div>

        <div class="ui-g-12">
            <div class="ui-inputgroup">
                <span class="ui-md-4">Mobile number</span>
                <span class="ui-inputgroup-addon">
                    <i class="fa fa-mobile"></i>
                </span>
                <input type="text" pKeyFilter="num" pInputText placeholder=" Mobile number" formControlName="mobile" maxlength="10" pattern="[0-9]{10}">
            </div>
            <div class="ui-grid-col-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['mobile'].valid&&userform.controls['mobile'].dirty">
                    <span *ngIf="userform.controls['mobile'].errors['required']">Mobile number is required</span>
                    <span *ngIf="userform.controls['mobile'].errors['minlength']">Mobile number Should be of 10 characters</span>

                </div>
            </div>
        </div>

        <div class="ui-g-12">
            <div class="ui-inputgroup">
                <span class="ui-md-4">Email Id</span>
                <span class="ui-inputgroup-addon">
                    <i class="fa fa-envelope"></i>
                </span>
                <input type="text" pInputText placeholder=" Email Id" formControlName="email">
            </div>
            <div class="ui-grid-col-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['email'].valid&&userform.controls['email'].dirty">
                    <span *ngIf="userform.controls['email'].errors['required']">Email is required</span>
                    <span *ngIf="userform.controls['email'].errors['email']">Email is not valid</span>
                </div>
            </div>
        </div>

        <div class="ui-g-12">
            <div class="ui-inputgroup">
                <span class="ui-md-4">Password</span>
                <span class="ui-inputgroup-addon">
                    <i class="fa fa-lock"></i>
                </span>
                <input type="password" pInputText placeholder=" Password" formControlName="pwd" minlength="6" maxlength="20">
            </div>
            <div class="ui-grid-col-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['pwd'].valid&&userform.controls['pwd'].dirty">
                    <span *ngIf="userform.controls['pwd'].errors['required']">Password is required</span>
                    <span *ngIf="userform.controls['pwd'].errors['minlength']">Password should be greater than 6 digits</span>
                    <span *ngIf="userform.controls['pwd'].errors['maxlength']">Password should between 6 to 20 digits</span>
                </div>
            </div>
        </div>

        <div class="ui-g-12">
            <div class="ui-inputgroup">
                <span class="ui-md-4">Confirm Password</span>
                <span class="ui-inputgroup-addon">
                    <i class="fa fa-lock"></i>
                </span>
                <input type="password" pInputText placeholder=" Confirm password" formControlName="cpwd" minlength="6" maxlength="20">
            </div>
            <div class="ui-grid-col-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="userform.controls.pwd.value!=userform.controls.cpwd.value&& userform.controls['cpwd'].dirty">
                    Password and confirm password should be match
                </div>
            </div>
        </div>

        <div class="ui-g-12">
            <div class="ui-inputgroup">
                <span class="ui-md-4">Date of Birth</span>
                <p-calendar formControlName="date3" [showIcon]="true" [monthNavigator]="true" [yearNavigator]="true" yearRange="1990:2030"></p-calendar>
                <span style="margin-left:35px">{{date3|date}}</span>
            </div>
        </div>

        <div class="ui-g-12">
            <div class="ui-inputgroup">
                <span class="ui-md-4">Address</span>
                <textarea rows=5 cols=25 pInputTextarea formControlName="address"></textarea>
            </div>
            <div class="ui-grid-col-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['address'].valid&&userform.controls['address'].dirty">
                    Address is required
                </div>

            </div>
        </div>



        <div class="ui-g-12">
            <div class="ui-inputgroup">
                <span class="ui-md-4">Gender</span>
                <div class="ui-g" style="width:250px;margin-bottom:10px">

                    <div class="ui-g-12">
                        <p-radioButton name="gender" value="Male" label="Male" formControlName="gender" inputId="opt1"></p-radioButton>
                    </div>
                    <div class="ui-g-12">
                        <p-radioButton name="gender" value="Female" label="Female" formControlName="gender" inputId="opt2"></p-radioButton>
                    </div>
                </div>

            </div>

            <div class="ui-grid-col-4">
                <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls['gender'].valid&&userform.controls['gender'].dirty">
                    Gender is required
                </div>

            </div>
        </div>

        <div class="ui-g-12">
            <div class="ui-inputgroup">
                <span class="ui-md-4">Hobbies</span>
                <!-- <div class="ui-g" style="width:250px;margin-bottom:10px">
                    <div class="ui-g-12">
                        <p-checkbox name="hobbies" value="music" label=" music" formControlName="hobby" inputId="m"></p-checkbox>
                    </div>
                    <div class="ui-g-12">
                        <p-checkbox name="hobbies" value="dance" label=" dance" formControlName="hobby" inputId="d"></p-checkbox>
                    </div>
                    <div class="ui-g-12">
                        <p-checkbox name="hobbies" value="cricket" label=" cricket" formControlName="hobby" inputId="c"></p-checkbox>
                    </div>
                </div> -->
                <div [formArrayName]="'items'" [class.invalid]="!userform.controls.selectedItems.valid" style="width:250px;margin-bottom:10px">
                    <div *ngFor="let control of userform.controls.items.controls; let i = index;" [formGroup]="control" class="ui-g-12">
                        <input type="checkbox" formControlName="checkbox" id="{{ control.controls.id.value }}">
                        <label attr.for="{{ control.controls.id.value }}">{{ control.controls.text.value }}</label>
                    </div>
                </div>
                <div class="ui-grid-col-4">
                    <div class="ui-message ui-messages-error ui-corner-all" *ngIf="!userform.controls.selectedItems.valid&&userform.controls.items.touched==true">
                        Atleast one hobby must be selected
                    </div>
                </div>
            </div>

        </div>

        <!-- <div class="ui-g-12">
                <div class="form-group">
                        <label for="file">Choose File</label>
                        <input type="file"
                               id="file"
                               formControlName="filename"
                               (change)="handleFileInput($event.target.files)">
                    </div>
            
        </div> -->


        <!--         <span>{{userform.controls.selectedItems.value | json}}</span>
 -->
        <div class="ui-g-12">
                <div class="ui-inputgroup">

                <span class="ui-md-4">Profile Picture</span>
            <div style="text-align:center">
                <label>
                    <input type="file" (change)="selectFile($event)">
                    </label>
                    <button [disabled]="!selectedFiles"
            (click)="upload()">Upload</button>
                </div>
                </div>
        </div>

        <div class="ui-g-2">

            <button pButton type="submit" label="Submit" [disabled]="!userform.valid" class="ui-button-success"></button>

            <div class="ui-grid-col-4"></div>
        </div>

    </div>
</form>

<!-- <p-accordion>
    <p-accordionTab header="Salads">
        Salads...
    </p-accordionTab>
    <p-accordionTab header="Pasta">
        Pasta...
        <br/> Maggie
    </p-accordionTab>
    <p-accordionTab header="Pizza" [selected]="true">
        <p-radioButton label="Double cheese üßÄüßÄ" name="pizza" value="double-cheese" [(ngModel)]="pizzaSelection">
        </p-radioButton>
        <br>
        <p-radioButton label="Anchovy" name="pizza" value="anchovy" [(ngModel)]="pizzaSelection"></p-radioButton>
        <br>
        <p-radioButton label="Meat lover's üçñ" name="pizza" value="meat-lover" [(ngModel)]="pizzaSelection">
        </p-radioButton>
    </p-accordionTab>
</p-accordion>

<br>

<p-panel header="Extras" *ngIf="pizzaSelection && pizzaSelection.length">
    üçï Would you like extra cheese on your pizza?
    <button pButton type="button" label="Ok, yeah!"></button>
</p-panel> -->